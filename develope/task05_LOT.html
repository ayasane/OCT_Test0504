<!DOCTYPE html>
<html>
<head>
    <script src="src/jspsych-6.1.0/jspsych.js"></script>
    <script src="src/jspsych-6.1.0/plugins/jspsych-html-keyboard-response.js"></script>
    <script src="src/jspsych-6.1.0/plugins/jspsych-fullscreen.js"></script>
    <script src="src/jspsych-psychophysics-2.0/jspsych-psychophysics.js"></script>
    <link rel="stylesheet" href="src/jspsych-6.1.0/css/jspsych.css"></link>
</head>

<body bgcolor="#000", text="#FFF">
    <script type="text/javascript">

      /* 課題に関するコードを以下に書く */
      var fullscreen = {
        type: 'fullscreen',
        message: '<p>以下のボタンをクリックすると，画面は全画面表示に切り替わります。全画面表示を止めたい場合はEscキーを押してください。</p>',
        button_label: "全画面表示に切り替え",
        fullscreen_mode: true
      };
      var welcome = {
        type: "html-keyboard-response",
        stimulus: "木曜日は少し疲れてきますね！"
      };

      /* タイムラインの設定 */
      var timeline = [];
      /* timeline.push(fullscreen); */
      timeline.push(welcome);

      /* 青線 */
      var line_blue = {
        obj_type: 'line',
        startX: 800, // location in the canvas
        startY: 400,
        angle: 45,
        line_length: 50,
        line_color: 'blue',
      }

      /* 赤線 */
      var line_red = {
        obj_type: 'line',
        startX: 200, // location in the canvas
        startY: 400,
        angle: 90,
        line_length: 100,
        line_color: 'red',
      }

      /* 回転の教示 */
      var text_rotate = {
       obj_type: 'text',
       startX: 120,
       startY: 680,
       content: '青い線を回転させるために\nボタンを押してください',
       font: "16px 'Arial'",
       text_color: 'white',
      }

      /* 終了の教示 */
      var text_finish = {
       obj_type: 'text',
       startX: 880,
       startY: 680,
       content: '２つの線の方向が同じになったら\n「終了」を押してください',
       font: "16px 'Arial'",
       text_color: 'white',
      }

      /* 終了のボタン */
      var img_finish = {
       obj_type: 'image',
       startX: 500,
       startY: 740,
       file: 'img/task05_LOT/img_fin.png',
       scale: 0.6,
      }


      /* 右回りのボタン */
      var img_right = {
        obj_type: 'image',
        startX: 650,
        startY: 680,
        file: 'img/task05_LOT/img_right.png',
        scale: 0.6,
      }

      /* 左回りのボタン */
      var img_left = {
        obj_type: 'image',
        startX: 350,
        startY: 680,
        file: 'img/task05_LOT/img_left.png',
        scale: 0.6,
      }

      var trial = {
        type: 'psychophysics',
        stimuli: [line_blue,line_red,text_rotate,text_finish,
          img_finish,img_right,img_left],
        choices: ['right','left'],
        response_type: 'mouse',
        canvas_width: 1000,
        canvas_height: 800,
        background_color: "black",
      }
      timeline.push(trial);


      /* 課題開始 */
      jsPsych.init({
        timeline: timeline,
        on_finish: function() {
          jsPsych.data.displayData();
        }
      });

    </script>
</body>
</html>
